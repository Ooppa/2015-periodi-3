/*
 * Aineopintojen harjoitustyö: Tietorakenteet ja algoritmit
 * Helsingin yliopisto Tietojenkäsittelytieteen laitos
 * Ooppa 2015 - GNU General Public License, version 3.
 */
package application;

import domain.RecommendedItem;
import domain.User;
import generators.TestDataGenerator;
import java.util.ArrayList;

/**
 * Example of the algorithm in action
 * @author Ooppa
 */
public class Example {

    private TestDataGenerator data;

    public Example() {
        // Start by generating the test data.
        data = new TestDataGenerator(true, 1000);
        
        Engine engine = new Engine();
        
        // We get our example user
        User exampleUser = data.getUsers().get(0);
        
        // Using Slope One
        ArrayList<RecommendedItem> rateItemsBasedOnUserReviews = engine.rateItemsBasedOnUserReviews(exampleUser, data.getUsers(), data.getItems());

        // Print TOP-10
        for(int i = 0; i<10; i++) {
            RecommendedItem item = rateItemsBasedOnUserReviews.get(i);
            
            System.out.println(i+ ": "+ item.toString());
            ArrayList<RecommendedItem> rateItemsBasedOnQualities = engine.rateItemsBasedOnQualities(item.getItem(), data.getItems());
            for(int j = 0; j<10; j++) {
                System.out.println("\t"+ i +": "+ rateItemsBasedOnQualities.get(i).toString());
            }
        }
        
    }

    /**
     * @return the data generated by TestDataGenerator
     */
    public TestDataGenerator getData() {
        return data;
    }

}
